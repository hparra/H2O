<!-- H2O prototype rev_1 -->
<!-- Coded by Jakkree Janchoi -->
<!-- UC Irvine teliOS project -->


<html>
<head>
	
<script type="text/javascript" src="http://marco.calit2.uci.edu/lib/jquery/jquery-1.3.2.js"></script>
<script type="text/javascript" src="../src/js/H2O.js"></script>
<script type="text/javascript" src="../src/js/H2O.Chart.js"></script>
<script type="text/javascript">
		//var DOMAIN = "http://oakenfold.calit2.uci.edu:5000";
		var DOMAIN = "http://localhost:5000";
		$(document).ready(function () {
			testChart = H2O.Chart({
				id: 'graph_canvas', // HGP: should be optional
				graphCeil: 300,
				intervalY: 25,
				addDot: false,
				show_line_number: true, //show line number requires Firefox 3.5 or higher. Safari 4
				scale_graph: false });
			$('#some_graph').append(testChart);
			setInterval('testChart.feedData(Math.ceil(Math.random()*100))',100);
			//infinitePollP();
			
		});
		function infinitePollP() {
        $.getJSON(DOMAIN + "/devices/accelerometer?format=jsonp&callback=?",
          function(data){
		  	testChart.feedData(data.data);
            infinitePollP();
          }
        );
      }


</script>
<style type="text/css">
	body {
		margin: 0;
		padding: 0;
		overflow: hidden;
	}

	/* HGP: don't decorate the canvas, decorate the parent */
	/* unfortunately, the box model makes sizing incorrect */
</style>
</head>
<body>
<!--canvas id="graph_canvas" width = 700 height = 400></canvas-->
<div id="some_graph" style="width:100%; height:100%">
	<!-- HGP: Canvas should be added dynamically -->
	
</div>


</body>
</html>