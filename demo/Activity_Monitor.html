<!-- H2O prototype rev_1      -->
<!-- Coded by Jakkree Janchoi -->
<!-- UC Irvine teliOS project -->


<html>
<head>
	
<script type="text/javascript" src="../vendor/jquery-1.3.2.js"></script>
<script type="text/javascript" src="../src/js/H2O.js"></script>
<script type="text/javascript" src="../src/js/H2O.Chart.js"></script>
<script type="text/javascript" src="../src/js/H2O.Label.js"></script>
<script type="text/javascript">
		var DOMAIN = "http://oakenfold.calit2.uci.edu:5000";
		//var DOMAIN = "http://localhost:5000";  //If server is running off local host
		
		$(document).ready(function () {
			testChart = H2O.Chart({
				id: 'graph_canvas',
				graphCeil: 300,
				intervalY: 25,
				addDot: false,
				show_line_number: true, //show line number requires Firefox 3.5 or higher. Safari 4
				scale_graph: false });
			$('#graph_container').append(testChart);
			maxbox_label = H2O.Label({ text: "Max Reading", id: "maxLabelH2O"});
			minbox_label = H2O.Label({ text: "Min Reading",id: "minLabelH2O" });
			currentbox_label = H2O.Label({ text: "Current Reading", id: "currentLabelH2O"});
			$("#maxLabel").append(maxbox_label);
			$("#minLabel").append(minbox_label);
			$("#currentLabel").append(currentbox_label);
			infinitePollP();// --------> Uncomment to start pulling data
		});

		function infinitePollP() {
        $.getJSON(DOMAIN + "/devices/accelerometer?format=jsonp&callback=?",
          function(data){
		  	testChart.feedData(data.data);
			$('#maxReadInput').html(testChart.getMaxReading());
			$('#minReadInput').html(testChart.getMinReading());
			$('#currentReadInput').html( testChart.getCurrentReading());
            infinitePollP();
          }
        );
      }


</script>
<style type="text/css">
	body {
		overflow: hidden;
		background-color: #000;
	}
	#info_panel{
		height: 29%;
		width: 100%;
		background: #CCCCCC;
		-moz-border-radius: 10px;
		-webkit-border-radius: 10px;  
		background-image:url(grad_lin_BG.png);
		background-repeat:repeat-x;		
	}	
	#mainPanel{
		height: 100%;
		width: 100%;
	} 
	.topBoarder{
		width: 100%;
		height: 30%;
		-moz-border-radius-topleft: 10px;
		-moz-border-radius-topright: 10px;
		-webkit-border-top-left-radius: 10px; 
		-webkit-border-top-right-radius: 10px;
		border: 0px solid #ffffff;
		background: #ffffff;
	}
	#maxReadInput{
		width: 100%;
		height: 70%;
		-moz-border-radius-bottomleft: 10px;
		-moz-border-radius-bottomright: 10px;
		-webkit-border-bottom-left-radius: 10px; 
		-webkit-border-bottom-right-radius: 10px;
		border: 0px solid #CCCCCC;
		background: #CCCCCC;
	}
	#minReadInput{
		width: 100%;
		height: 70%;
		-moz-border-radius-bottomleft: 10px;
		-moz-border-radius-bottomright: 10px;
		-webkit-border-bottom-left-radius: 10px; 
		-webkit-border-bottom-right-radius: 10px;
		border: 0px solid #CCCCCC;
		background: #CCCCCC;
	}
	#currentReadInput{
		width: 100%;
		height: 70%;
		-moz-border-radius-bottomleft: 10px;
		-moz-border-radius-bottomright: 10px;
		-webkit-border-bottom-left-radius: 10px; 
		-webkit-border-bottom-right-radius: 10px;
		border: 0px solid #CCCCCC;
		background: #CCCCCC;
		
	}
#main_boarder{
	height: 100%;
	width: 100%;
}
#graph_container{
	height: 70%;
	width: 100%;
	}
	#space{
		height:1%;
	}
	#space15_w{
		width: 5%;
		height: 100%;
	}
	#space15_h{
		height: 5%;
		width: 100%;
	}
	#maxLabel{
		width: 100%;
		height: 100%;
	}
	#minLabel{
		width: 100%;
		height: 100%;
	}
	#currentLabel{
		width: 100%;
		height: 100%;
	}
	#minReadBox{
		width: 31.3%;
		height: 82%;
		float: left;
		padding: 1%;
		
	}
	#currentReadBox{
		width: 31.3%;
		height: 82%;
		float: left;
		padding: 1%;
	}
	#maxReadBox{
		width: 31.3%;
		height: 82%;
		float: left;
		padding: 1%;
	}
</style>
</head>


<body>
<div id="main_boarder">
	<div id = "info_panel" align=center>
		<div id = "maxReadBox" align=center >
			<div class = "topBoarder" align=center>
				<div id = "maxLabel" align=center>	
				</div>
			</div>
			<div id = "maxReadInput" align=center>
				No input data
			</div>
		</div>
		<div id = "minReadBox" align=center >
			<div class = "topBoarder" align=center>
				<div id = "minLabel" align=center>
				</div>
			</div>
			<div id = "minReadInput" align=center>
				No input data
			</div>
		</div>	
		<div id = "currentReadBox" align=center >
			<div class = "topBoarder" align=center>
				<div id = "currentLabel" align=center>
				</div>
			</div>
			<div id = "currentReadInput" align=center>
				No input data
			</div>
		</div>		
	</div>
	<div id ="space"></div>
	<div id="graph_container"></div>
</div>
</body>
</html>